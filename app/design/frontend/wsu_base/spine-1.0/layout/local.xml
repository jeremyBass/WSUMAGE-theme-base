<?xml version="1.0" encoding="utf-8"?>
<layout version="0.1.0">
    <default translate="label" module="page">
        <label>All Pages</label>
        <block type="page/html" name="root" output="toHtml" template="page/2columns-left.phtml">
			<block type="page/switch" name="store_language" as="store_language" template="page/switch/languages.phtml"/>
			<block type="page/template_links" name="top.links" as="topLinks" />
			
            <block type="page/html_head" name="head" as="head">
                <action method="addJs"><script>prototype/prototype.js</script></action>
                <action method="addJs"><script>lib/ccard.js</script></action>
                <action method="addJs"><script>prototype/validation.js</script></action>
                <action method="addJs"><script>scriptaculous/builder.js</script></action>
                <action method="addJs"><script>scriptaculous/effects.js</script></action>
                <action method="addJs"><script>scriptaculous/dragdrop.js</script></action>
                <action method="addJs"><script>scriptaculous/controls.js</script></action>
                <action method="addJs"><script>scriptaculous/slider.js</script></action>
                <action method="addJs"><script>varien/js.js</script></action>
                <action method="addJs"><script>varien/form.js</script></action>
                <!--<action method="addJs"><script>varien/menu.js</script></action>-->
                <action method="addJs"><script>mage/translate.js</script></action>

				<action method="addItem"><type>skin_js</type><name>js/jquery.cycle2.js</name><params/></action>
				<action method="addItem"><type>skin_js</type><name>js/controller.js</name><params/></action>
				
				<!-- base for all WSU -->
					<action method="addItem"><type>external_css</type><name>http://repo.wsu.edu/spine/1/spine.min.css</name></action>
					<action method="addItem"><type>external_css</type><name>//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css</name></action>
					<!--<action method="addItem"><type>external_js</type><name>http://nbj.me/spine/1/1.0/scripts/modernizr/modernizr.custom.95689.js</name></action>-->
					<action method="addItem"><type>external_js</type><name>http://repo.wsu.edu/spine/1/spine.min.js</name></action>
					<!--
					<action method="addItem"><type>external_js</type><name>//images.wsu.edu/javascripts/print_v2.js</name></action>
					-->
				<!-- End of WSU base -->
				
                <action method="addCss"><stylesheet>css/styles.css</stylesheet></action>
                <action method="addItem"><type>skin_css</type><name>css/styles-ie.css</name><params/><if>lt IE 8</if></action>
                <action method="addCss"><stylesheet>css/widgets.css</stylesheet></action>
				<action method="addCss"><stylesheet>css/custom.css</stylesheet></action>
				<!--<action method="addCss"><stylesheet>css/quickoverride.css</stylesheet></action>-->
				
				
                <action method="addCss"><stylesheet>css/print.css</stylesheet><params>media="print"</params></action>

                <action method="addItem"><type>js</type><name>lib/ds-sleight.js</name><params/><if>lt IE 7</if></action>
                <action method="addItem"><type>skin_js</type><name>js/ie6.js</name><params/><if>lt IE 7</if></action>
				
				<action method="addCss"><stylesheet helper="wsu_themecontrol/cssgen/getDesignFile" /></action>
				<action method="addItem"><type>skin_css</type><name>css/quickoverride.css</name></action>
				
				
            </block>

            <block type="core/text_list" name="after_body_start" as="after_body_start" translate="label">
                <label>Page Top</label>
            </block>

            <block type="page/html_notices" name="global_notices" as="global_notices" template="page/html/notices.phtml" />

            <block type="page/html_header" name="header" as="header">
				<!--<block type="core/text_list" name="catalog.topnav" as="storenav"/>
                <block type="core/text_list" name="top.menu" as="topMenu" translate="label">
                    <label>Navigation Bar</label>
                    <block type="page/html_topmenu" name="catalog.topnav" template="page/html/topmenu.phtml" />
                </block>-->
				<block type="page/html_wrapper" name="top.bar" as="topBar" translate="label">
					
					<action method="setElementClass"><value>top-bar</value></action>
				</block>
            </block>
			<block type="page/html_breadcrumbs" name="breadcrumbs" as="breadcrumbs" translate="label">
				<label>Breadcrumbs</label>
			</block>
			<block type="page/html_wrapper" name="top.container" as="topContainer" translate="label">
				<label>Page Header</label>
				<action method="setElementClass"><value>top-container</value></action>
			</block>


            <block type="core/text_list" name="left" as="left" translate="label">
                <label>Left Column</label>
            </block>

            <block type="core/messages" name="global_messages" as="global_messages"/>
            <block type="core/messages" name="messages" as="messages"/>

            <block type="core/text_list" name="content" as="content" translate="label">
                <label>Main Content Area</label>
            </block>

            <block type="core/text_list" name="right" as="right" translate="label">
                <label>Right Column</label>
            </block>

            <block type="page/html_footer" name="footer" as="footer" template="page/html/footer.phtml">
                <block type="page/html_wrapper" name="bottom.container" as="bottomContainer" translate="label">
                    <label>Page Footer</label>
                    <action method="setElementClass"><value>bottom-container</value></action>
                </block>
                <block type="page/template_links" name="footer_links" as="footer_links" template="page/template/links.phtml"/>
                <block type="page/switch" name="store_switcher" as="store_switcher" template="page/switch/stores.phtml"/>
            </block>

            <block type="core/text_list" name="before_body_end" as="before_body_end" translate="label">
                <label>Page Bottom</label>
            </block>
        </block>

        <block type="core/profiler" output="toHtml" name="core_profiler"/>
    </default>
<!-- Header ====================================================================== -->
		<reference name="header">


		</reference>	
	
<!-- 3 COLUMN PAGES %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
	<page_three_columns>
		<reference name="right">
			<action method="unsetChild"><name>paypal.partner.right.logo</name></action>
		</reference>
		<reference name="left">
			<action method="unsetChild"><name>wishlist</name></action>
		</reference>
	</page_three_columns>
	
<!-- USER LOGGED IN/OUT %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
	<customer_logged_out>
		<reference name="top.links">
            <action method="addLink" translate="label title"><label>Sign Up</label><url>customer/account/create</url><title>Sign Up</title><prepare>true</prepare><urlParams/><position>101</position><liParams>id="link-sign-up"</liParams></action>
        </reference>
	</customer_logged_out>
	
<!-- CART %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
	<checkout_cart_index>
		<!-- Custom static blocks -->
		<reference name="checkout.cart">
			<block type="cms/block" name="block_cart_below_table">
                <action method="setBlockId"><block_id>block_cart_below_table</block_id></action>
            </block>
			<block type="cms/block" name="block_cart_below_totals">
                <action method="setBlockId"><block_id>block_cart_below_totals</block_id></action>
            </block>
		</reference>
	</checkout_cart_index>
	
<!-- CHECKOUT %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
	<checkout_onepage_index>
		<!-- Block below progress block, inserted directly -->
		<reference name="right">
			<block type="page/html_wrapper" name="i_block_opc_below_progress">
				<action method="setElementClass"><value>block block_opc_below_progress std</value></action>
				<block type="cms/block" name="block_opc_below_progress" after="checkout.progress.wrapper">
                	<action method="setBlockId"><block_id>block_opc_below_progress</block_id></action>
            	</block>
			</block>
		</reference>
	</checkout_onepage_index>	

<!-- REVIEWS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
	<review_product_list>
		<!-- IMPORTANT: same as 'catalog_product_view'. -->
		<reference name="root">
            <action method="setTemplate"><template>page/1column.phtml</template></action>
        </reference>
	</review_product_list>

	
<!-- CUSTOMER ACCOUNT %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
	<customer_account>
		<reference name="left">
			<!-- Remove cart from the left column -->
			<action method="unsetChild"><name>cart_sidebar</name></action>
			<!-- Remove Compare block, it is already inserted in DEFAULT section -->
			<action method="unsetChild"><name>catalog.compare.sidebar</name></action>
		</reference>
	</customer_account>
	
<!-- ALL CMS PAGES %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
	<cms_page>
		<!-- Custom static blocks -->
		<!-- IMPORTANT: These blocks are removed from home page and 404 no route page -->
        <reference name="content">
			<block type="page/html_wrapper" name="i_block_cms_page_top" before="-">
				<action method="setElementClass"><value>block_cms_page_top std</value></action>
				<block type="cms/block" name="block_cms_page_top">
					<action method="setBlockId"><block_id>block_cms_page_top</block_id></action>
				</block>
			</block>
		</reference>
	</cms_page>	
	
	<!-- Remove static blocks displayed on CMS pages from these pages: home page, 404 no route 
		IMPORTANT: make sure that you use correct ID -->
	<cms_index_noroute>
		<remove name="i_block_cms_page_top"/>
		<remove name="block_right_top"/>
		<remove name="block_right_bottom"/>
	</cms_index_noroute>
	<cms_index_defaultnoroute>
		<remove name="i_block_cms_page_top"/>
		<remove name="block_right_top"/>
		<remove name="block_right_bottom"/>
	</cms_index_defaultnoroute>
	<cms_index_index>
		<remove name="i_block_cms_page_top"/>
		<!-- Uncomment to allow MAP functionality on home page -->
		<!--<update handle="MAP_popup" />-->
    </cms_index_index>
	
<!-- HOME PAGE %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
	<cms_index_index>
	
	</cms_index_index>

<!-- CATEGORY %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
	<!-- Default category (without layered navigation) -->
	<catalog_category_default>
		<reference name="root">
			<action method="setTemplate"><template>page/2columns-left.phtml</template></action>
		</reference>
		<reference name="product_list">
			<!-- HOWTO: Change review summary template
			<action method="addReviewSummaryTemplate"><type>short</type><template>review/helper/summary_short_nolinks.phtml</template></action> -->
			<!-- Custom static blocks -->
			<block type="cms/block" name="block_category_above_collection">
                <action method="setBlockId"><block_id>block_category_above_collection</block_id></action>
            </block>
			<block type="cms/block" name="block_category_above_empty_collection">
                <action method="setBlockId"><block_id>block_category_above_empty_collection</block_id></action>
            </block>
			<block type="catalog/product_list_aboveproduct" name="block_category_above_product" as="block_category_above_product" />
			<block type="catalog/product_links_belowproduct" name="block_category_below_product" as="block_category_below_product" />
			<block type="cms/block" name="block_category_below_collection">
                <action method="setBlockId"><block_id>block_category_below_collection</block_id></action>
            </block>
		</reference>
		<!-- Remove currency switcher from sidebar -->
		<reference name="left">
			<action method="unsetChild"><name>currency</name></action>
		</reference>
	</catalog_category_default>

	<!-- Category with layered navigation -->
	<catalog_category_layered>
		<reference name="root">
			<action method="setTemplate"><template>page/2columns-left.phtml</template></action>
		</reference>
		<reference name="left">
			<!-- Remove currency switcher from sidebar -->
			<action method="unsetChild"><name>currency</name></action>			
		</reference>
		<reference name="product_list">
			<!-- Custom static blocks -->
			<block type="cms/block" name="block_category_above_collection">
                <action method="setBlockId"><block_id>block_category_above_collection</block_id></action>
            </block>
			<block type="cms/block" name="block_category_above_empty_collection">
                <action method="setBlockId"><block_id>block_category_above_empty_collection</block_id></action>
            </block>
			<block type="cms/block" name="block_category_below_collection">
                <action method="setBlockId"><block_id>block_category_below_collection</block_id></action>
            </block>
		</reference>
	</catalog_category_layered>

<!-- SEARCH %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
	<!-- Quick search -->
	<catalogsearch_result_index>
		<reference name="root">
			<action method="setTemplate"><template>page/2columns-left.phtml</template></action>
		</reference>
		<reference name="left">
			<!-- Keep layered navigation always on top. Replace: after="currency" with: before="-" -->
			<!--<action method="unsetChild"><name>catalogsearch.leftnav</name></action>
			<block type="catalogsearch/layer" name="catalogsearch.leftnav" before="-" template="catalog/layer/view.phtml"/>-->
			<!-- Remove currency switcher from sidebar -->
			<action method="unsetChild"><name>currency</name></action>
		</reference>
	</catalogsearch_result_index>
	<!-- Advanced search -->
	<catalogsearch_advanced_index>
		<!-- Remove (right) currency switcher from sidebar -->
		<reference name="left">
			<action method="unsetChild"><name>right_currency</name></action>
		</reference>
	</catalogsearch_advanced_index>
	<!-- Advanced search results -->
	<catalogsearch_advanced_result>
		<!-- Remove (right) currency switcher from RIGHT sidebar -->
		<reference name="right">
			<action method="unsetChild"><name>right_currency</name></action>
		</reference>
	</catalogsearch_advanced_result>
	
	
	
	
</layout>